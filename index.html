<html>
    <head>
        <meta charset="utf-8">
        <title>WC Toggle - Web Component</title>
        <script src="/bower_components/webcomponentsjs/webcomponents-loader.js"></script>
        <link rel="import" href="wc-toggle.html">
    </head>

    <body>
        <wc-toggle value-left="INR" value-right="GBP" value="GBP" readonly>
        </wc-toggle>

        <div>
            <p> selected Value: <span class="value"></span></p>
            <button class="button">Enable/Disable</button>
            <button class="button2">Change Value</button>
        </div>

        <script>
            const toggle = document.querySelector("wc-toggle");
            const value = document.querySelector(".value");
            setTimeout(() => {
                toggle.value = "INR";     
            }, 500);
            
            toggle.addEventListener("change", ({detail}) => {
                value.innerHTML = detail.value;
            })

            const button = document.querySelector(".button");
            button.addEventListener("click", () => {
                if (toggle.hasAttribute("disabled")) {
                    toggle.removeAttribute("disabled");
                    toggle.removeAttribute("readonly");
                } else {
                    toggle.setAttribute("disabled", "");
                }
            });

            const button2 = document.querySelector(".button2");
            button2.addEventListener("click", () => {
                let value = toggle.value === "INR" ? "GBP" : "INR";
                toggle.value = value;
            });
        </script>  
    </body>
</html>